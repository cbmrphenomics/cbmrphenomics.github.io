

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>4.7. Transferring data &#8212; Esrum Cluster  documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/playback.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/js/custom.js"></script>
    <script src="../_static/js/libgif.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Troubleshooting" href="../troubleshooting.html" />
    <link rel="prev" title="4.6. The module system" href="modules.html" />
    <script defer src="../_static/js/playback.js"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../troubleshooting.html" title="5. Troubleshooting"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="modules.html" title="4.6. The module system"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Esrum Cluster  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">4. </span>Using the cluster</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4.7. Transferring data</a><ul>
<li><a class="reference internal" href="#transferring-data-to-from-esrum">4.7.1. Transferring data to/from Esrum</a></li>
<li><a class="reference internal" href="#transferring-data-to-from-sif-and-erda">4.7.2. Transferring data to/from SIF and ERDA</a></li>
<li><a class="reference internal" href="#transferring-data-to-from-computerome">4.7.3. Transferring data to/from Computerome</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter"><span class="section-number">4.6. </span>The module system</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../troubleshooting.html"
                        title="next chapter"><span class="section-number">5. </span>Troubleshooting</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="transferring-data">
<span id="p-transfers"></span><h1><span class="section-number">4.7. </span>Transferring data<a class="headerlink" href="#transferring-data" title="Permalink to this headline">¶</a></h1>
<p>This section describes how to perform bulk data transfers between Esrum,
your PC/Laptop, and services such as SIF/Erda or Computerome. Several of
these sections may be useful on other systems than Esrum.</p>
<p>If you have an existing compute project or dataset on a KU-IT managed
cluster, then you may be able to connect it directly to the Esrum
cluster and thereby remove the need for transferring data entirely.
Please <a class="reference internal" href="../contact.html#p-contact"><span class="std std-ref">Contact</span></a> us for more information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Data must not be copied out of audited <code class="docutils literal notranslate"><span class="pre">/datasets</span></code> or <code class="docutils literal notranslate"><span class="pre">/projects</span></code>
folders without permission from the relevant data controller! See the
<a class="reference internal" href="../guidelines.html#p-guidelines"><span class="std std-ref">Guidelines</span></a> for more information.</p>
</div>
<div class="section" id="transferring-data-to-from-esrum">
<h2><span class="section-number">4.7.1. </span>Transferring data to/from Esrum<a class="headerlink" href="#transferring-data-to-from-esrum" title="Permalink to this headline">¶</a></h2>
<p>Users on a wired connection or using the VPN within CBMR can transfer
files to/from their PCs using any of the standard tools that connect via
SSH, including but not limited to <code class="docutils literal notranslate"><span class="pre">scp</span></code>, <code class="docutils literal notranslate"><span class="pre">sftp</span></code>, and <code class="docutils literal notranslate"><span class="pre">rsync</span></code>.
Windows users may also consider graphical tools such as <a class="reference external" href="https://filezilla-project.org/">FileZilla</a> or
MobaXterm (see the <a class="reference internal" href="connecting.html#p-usage-connecting"><span class="std std-ref">Connecting to the cluster</span></a> page).</p>
<p>When outside CBMR or when using the VPN is not feasible, one may instead
use the SSH/SFTP server at <code class="docutils literal notranslate"><span class="pre">sftp.ku.dk</span></code>. Official documentation is
provided on the <a class="reference external" href="https://kunet.ku.dk/work-areas/research/Research%20Infrastructure/research-it/ucph-computing-hpc-systems/Pages/default.aspx">UCPH computing/HPC Systems</a> pages on KUNet.</p>
<p>This services gives you access to all your projects and datasets:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ sftp sftp://abc123@sftp.ku.dk
<span class="o">(</span>abc123@sftp.ku.dk<span class="o">)</span> Enter password
Password: ******
<span class="o">(</span>abc123@sftp.ku.dk<span class="o">)</span> Enter one-time password
Enter one-time password: ******
Connected to sftp.ku.dk.
sftp&gt; ls
ucph
sftp&gt; <span class="nb">cd</span> ucph/
sftp&gt; ls
datasets  hdir      ndir      projects
</pre></div>
</div>
<p>Depending on how you have configured <a class="reference external" href="https://mfa.ku.dk/">KU two-factor authentication</a>,
you may either need to approve the connection attempt or (as shown
above) enter a one-time password</p>
</div>
<div class="section" id="transferring-data-to-from-sif-and-erda">
<span id="p-tranfers-sifanderda"></span><h2><span class="section-number">4.7.2. </span>Transferring data to/from SIF and ERDA<a class="headerlink" href="#transferring-data-to-from-sif-and-erda" title="Permalink to this headline">¶</a></h2>
<p>Connecting to the <a class="reference external" href="https://sif.ku.dk/">SIF</a> or <a class="reference external" href="https://erda.ku.dk/">ERDA</a> servers requires that the user has
successfully authenticated using Two Factor Authentication. Futhermore,
this must be done using the same IP from which the user intends to
connect, in this case from the Esrum IP.</p>
<p>This poses some challenges, as running a full-fledged browser over SSH
performs very poorly. This section therefore describes how to
authenticate to <a class="reference external" href="https://sif.ku.dk/">SIF</a> or <a class="reference external" href="https://erda.ku.dk/">ERDA</a> using a purely text-based browser
available on the cluster (<a class="reference external" href="https://en.wikipedia.org/wiki/Lynx_(web_browser)">Lynx</a>):</p>
<ol class="arabic">
<li><p>Start Lynx as follows:</p>
<blockquote>
<div><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>lynx -accept_all_cookies <span class="s2">&quot;https://sif.ku.dk&quot;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Use the up/down arrow keys to select the <code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">in</span></code> link under <code class="docutils literal notranslate"><span class="pre">I'm</span>
<span class="pre">already</span> <span class="pre">signed</span> <span class="pre">up</span> <span class="pre">to</span> <span class="pre">SIF</span> <span class="pre">with</span> <span class="pre">my</span> <span class="pre">KU</span> <span class="pre">/</span> <span class="pre">UCPH</span> <span class="pre">account!</span></code> and press
Enter.</p></li>
<li><p>Make sure that the <code class="docutils literal notranslate"><span class="pre">Let</span> <span class="pre">me</span> <span class="pre">in</span> <span class="pre">without</span> <span class="pre">it,</span> <span class="pre">I</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">try</span></code> is
highlighted and press enter to confirm that you wish to try login.</p></li>
<li><p>Enter your KU username and password. Use <code class="docutils literal notranslate"><span class="pre">Tab</span></code> to jump to the next
field and <code class="docutils literal notranslate"><span class="pre">Shift+Tab</span></code> to jump to the previous field.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">Tab</span></code> to select the Yes button (appears as <code class="docutils literal notranslate"><span class="pre">(BUTTON)</span> <span class="pre">Yes</span></code>)
and press Enter.</p></li>
<li><p>Enter the SIF two-factor code, press tab to select the <code class="docutils literal notranslate"><span class="pre">Submit</span></code>
button, and press enter.</p></li>
<li><p>If you see a page containing a submission form, and the text <code class="docutils literal notranslate"><span class="pre">Exit</span>
<span class="pre">code:</span> <span class="pre">0</span> <span class="pre">Description:</span> <span class="pre">OK</span> <span class="pre">(done</span> <span class="pre">in</span> <span class="pre">0.094s)</span></code> then you are logged in.</p></li>
<li><p>Press <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code> to quit.</p></li>
</ol>
<p>Once you have successfully authenticated you may connect to the SIF/ERDA
servers as normal using the tools available on Esrum.</p>
</div>
<div class="section" id="transferring-data-to-from-computerome">
<span id="p-transfers-computerome"></span><h2><span class="section-number">4.7.3. </span>Transferring data to/from Computerome<a class="headerlink" href="#transferring-data-to-from-computerome" title="Permalink to this headline">¶</a></h2>
<p>When transferring data/to from computerome you should <em>always</em> run the
transfer software on Esrum (or on your PC/laptop) and you should
<em>always</em> connect to Computerome via <code class="docutils literal notranslate"><span class="pre">transfer.computerome.dk</span></code> instead
of <code class="docutils literal notranslate"><span class="pre">ssh.computerome.dk</span></code>.</p>
<p>This avoids two big issues:</p>
<ol class="arabic simple">
<li><p>The Computerome administrators will terminate any attempts at
transferring data via <code class="docutils literal notranslate"><span class="pre">ssh.computerome.dk</span></code> and may suspend your
account if you keep trying. This applies both to running (for
example) <code class="docutils literal notranslate"><span class="pre">rsync</span></code> on <code class="docutils literal notranslate"><span class="pre">ssh.computerome.dk</span></code> or if you attempt upload
data to or download data from this server.</p></li>
<li><p>While it is possible to transfer data to/from Computerome from/to
Esrum by running your software on a node, this involves paying for an
node on computerome for the duration of the transfer.</p></li>
</ol>
<p>See the <a class="reference external" href="https://www.computerome.dk/wiki/high-performance-computing-hpc/file-transfer">official Computerome documentation</a> for more information.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../troubleshooting.html" title="5. Troubleshooting"
             >next</a></li>
        <li class="right" >
          <a href="modules.html" title="4.6. The module system"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Esrum Cluster  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">4. </span>Using the cluster</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, CBMR Phenomics.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>


<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Persistent sessions with tmux &#8212; Esrum Cluster  documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/playback.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/js/libgif.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Faster gzip (de)compression with pigz and igzip" href="faster_gzip.html" />
    <link rel="prev" title="Transferring data to/from SIF and ERDA" href="sif_and_erda.html" />
    <script defer src="../_static/js/playback.js"></script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="faster_gzip.html" title="Faster gzip (de)compression with pigz and igzip"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sif_and_erda.html" title="Transferring data to/from SIF and ERDA"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Esrum Cluster  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Tips and tricks</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Persistent sessions with tmux</a><ul>
<li><a class="reference internal" href="#getting-started">Getting started</a><ul>
<li><a class="reference internal" href="#creating-and-navigating-between-terminals">Creating and navigating between terminals</a></li>
<li><a class="reference internal" href="#detaching-from-and-re-attaching-to-your-sessions">Detaching from and re-attaching to your sessions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#basic-shortcuts">Basic shortcuts</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="sif_and_erda.html"
                        title="previous chapter">Transferring data to/from SIF and ERDA</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="faster_gzip.html"
                        title="next chapter">Faster gzip (de)compression with pigz and igzip</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tips_and_tricks/tmux.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="persistent-sessions-with-tmux">
<span id="tmux-page"></span><h1>Persistent sessions with tmux<a class="headerlink" href="#persistent-sessions-with-tmux" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/tmux/tmux/wiki">tmux</a> is a so-called terminal multiplexer: It allows you to easily
create and switch between multiple sets of terminals, it allows you to
name them to remind yourself what you were working with, and it allows
you to leave them running in the background when you disconnect from the
server (whether intentionally or unintentionally).</p>
<p>Using <a class="reference external" href="https://github.com/tmux/tmux/wiki">tmux</a> is therefore highly recommended when you are working on the
cluster, since it lets you work uninterrupted over multiple days,
without having to leave your computer running at all time and without
having to worry about your internet connection staying up.</p>
<p>The following gives brief introduction to using <a class="reference external" href="https://github.com/tmux/tmux/wiki">tmux</a>. A more detailed
<a class="reference external" href="https://github.com/tmux/tmux/wiki/Getting-Started">getting started</a> guide can be found in the official <a class="reference external" href="https://github.com/tmux/tmux/wiki">tmux</a>
documentation.</p>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>To get started, <code class="docutils literal notranslate"><span class="pre">cd</span></code> to the directory you wish to work in and run
<code class="docutils literal notranslate"><span class="pre">tmux</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> /projects/my_project/people/abc123
<span class="gp">$</span> tmux
</pre></div>
</div>
<p>This will create a new session (group of terminals) with a single window
(terminal), and will make new terminal start with the current working
directory set to <code class="docutils literal notranslate"><span class="pre">/projects/my_project/people/abc123</span></code> for convenience.</p>
<p>The session can be given a name with <code class="docutils literal notranslate"><span class="pre">-s</span></code> and the window can be given
a name with <code class="docutils literal notranslate"><span class="pre">-n</span></code> as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> tmux new -s project -n task
</pre></div>
</div>
<img alt="../_images/tmux_new_named.gif" class="gif" src="../_images/tmux_new_named.gif" />
<p>See <a class="reference internal" href="#basic-shortcuts">basic shortcuts</a> section for how to change these names after
you’ve created a session or window. It is not required to name your
sessions/windows, but is recommended to do so if you work on multiple
things at once.</p>
<div class="section" id="creating-and-navigating-between-terminals">
<h3>Creating and navigating between terminals<a class="headerlink" href="#creating-and-navigating-between-terminals" title="Permalink to this headline">¶</a></h3>
<p>You start your new session with a single, blank terminal and you can
create any number of additional terminals using the <code class="docutils literal notranslate"><span class="pre">CTRL+c</span></code> shortcut.
The current terminals are listed at the bottom of the screen:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>TODO: Screenshot</p>
</div>
</div>
<div class="section" id="detaching-from-and-re-attaching-to-your-sessions">
<h3>Detaching from and re-attaching to your sessions<a class="headerlink" href="#detaching-from-and-re-attaching-to-your-sessions" title="Permalink to this headline">¶</a></h3>
<p>When your jobs are running, or simply if you need to finish for the day,
then you can detach your <a class="reference external" href="https://github.com/tmux/tmux/wiki">tmux</a> session and leave it running on the
server until you connect again.</p>
<p>To disconnect from the current session, use the keyboard shortcut
<code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">d</span></code>. This returns you to your regular terminal and you can
safely disconnect from the server. You can also simply close your
terminal window and tmux will keep running on the server, but note that
this may have undesirable side-effects (such as the terminal windows
being stuck at a certain size), since it takes tmux a while to register
that the connection has been lost.</p>
<p>Once you wish to resume your work, you can use the <code class="docutils literal notranslate"><span class="pre">tmux</span> <span class="pre">attach</span></code>
(command to re-open your running sessions, optionally specifying the
name of the session you wish to open:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span><span class="c1">## either</span>
<span class="gp">$</span> tmux attach
<span class="gp">#</span><span class="c1">## or</span>
<span class="gp">$</span> tmux attach -t project
</pre></div>
</div>
<p>Alternatively, you can use the keyboard shortcut <code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">s</span></code> to switch
to the correct session after you’ve attached tmux.</p>
<p>To terminate a session, simply close the individual terminals by running
the <code class="docutils literal notranslate"><span class="pre">exit</span></code> command or pressing <code class="docutils literal notranslate"><span class="pre">CTRL+d</span></code> while on an empty line:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span><span class="c1">## either</span>
<span class="gp">$</span> <span class="nb">exit</span>
<span class="gp">#</span><span class="c1">## or</span>
<span class="gp">$</span> &lt;press CTRL+d&gt;
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/tmux/tmux/wiki">tmux</a> will exit with the message <code class="docutils literal notranslate"><span class="pre">[exited]</span></code> once the last terminal in
the current session has been closed.</p>
</div>
</div>
<div class="section" id="basic-shortcuts">
<h2>Basic shortcuts<a class="headerlink" href="#basic-shortcuts" title="Permalink to this headline">¶</a></h2>
<p>The following lists the basic shortcuts that you need to work with tmux.
Additional shortcuts can be found in the tmux <a class="reference external" href="https://man.openbsd.org/OpenBSD-current/man1/tmux.1#DEFAULT_KEY_BINDINGS">manual page</a> (<code class="docutils literal notranslate"><span class="pre">man</span>
<span class="pre">tmux</span></code>).</p>
<p>Every shortcut listed below is performed by first pressing <code class="docutils literal notranslate"><span class="pre">CTRL+b</span></code>,
releasing those keys, and <em>then</em> pressing the specified button and
<em>only</em> the specified button.</p>
<p><strong>Creating new terminals in a session</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">c</span></code> Creates a new terminal in the current session.</p></li>
</ul>
</div></blockquote>
<p><strong>Switching between sessions and windows</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">n</span></code> Switches to the next window (terminal)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">p</span></code> Switches to the previous window (terminal)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">s</span></code> Switches to a different session (group of terminals)</p></li>
</ul>
</div></blockquote>
<p><strong>Renaming sessions and windows</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">,</span></code> Renames the current window (terminal)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">$</span></code> Renames the current session (group of terminals)</p></li>
</ul>
</div></blockquote>
<p><strong>Detaching from tmux</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CTRL+b</span> <span class="pre">d</span></code> Detaches from the current session (group of
terminals). Tmux keeps running after this along with your
terminals.</p></li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="faster_gzip.html" title="Faster gzip (de)compression with pigz and igzip"
             >next</a> |</li>
        <li class="right" >
          <a href="sif_and_erda.html" title="Transferring data to/from SIF and ERDA"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Esrum Cluster  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Tips and tricks</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, CBMR Phenomics.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>